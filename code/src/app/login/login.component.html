<!-- Created by Lavante Hammond & Ashim Chalise -->
<!--This website is to help the user login to our app. It asks for the login credentials and proceeds ahead.-->
<app-toolbar></app-toolbar>

<!--This section is creating the layout of the login app, and putting variables in place to capture the input
and send to the API.-->
<body ng-app="LoginApp">
<section class="hero is-info is-fullheight is-bold">
    <div class="hero-body">
    <div class="container">
        <div class="card has-text-centered has-background-success">
            <div class="card-content">
              <!--The image is the logo of our company that appears on top tab at beside the website name.-->
                  <figure class="image is-48x48">
                    <img src="assets/img/TopMLogo.png" alt="Placeholder image">
                  </figure>
          
              <div class="content is-size-3 has-text-light">
                Welcome back to MyFy! One place for all your finances.
                <br>
                Please log in to continue.
                <br>
              </div>
            </div>
          </div>
          <br>
          <br>
          <br>
        <form ng-submit ng-controller="LoginController">
        <div class="field">
            <p class="control">
              <input class="input" ng-model="email" type="email" placeholder="Email" required>
            </p>
          </div>
          <div class="field">
            <p class="control">
              <input class="input" ng-model="password" type="password" placeholder="Password" required>
            </p>
          </div>
          </form>
          <label class="checkbox">
            <input type="checkbox">
            Remember me
          </label>
          <br>
          <br>
          <div class="field">
            <p class="control has-text-centered">
              <button class="button is-success" id="submit">
                Let's Budget
              </button>
            </p>
          </div>
    </div>
 </div>
</section>
</body>

<!--Here, Brandon and Jon have created a program to capture and route the data to the database.-->
<script>
  var app = angular.module('LoginApp', []);
  app.controller('LoginController', function($scope, $http) {
      $scope.submit = function(){
          $http({
              method:'POST',
              url:"/login/auth",
              data : {
                  email: $scope.email,
                  password: $scope.password
              },
              headers: {
                  'Content-Type': 'application/json'
              }
          })
              .success(function(response){
                  $scope.result = response;
                  console.log($scope.result);
              })
              .error(function(){
                  console.log("error");
              });
      };
  });
</script>
